<div class="forget-password-container">
    <mat-card>
        <img src="assets/logo.png" alt="Logo" class="logo" />

    <mat-card-title>Forgot Password</mat-card-title>
    
    <div *ngIf="!emailSent">
      <p class="instruction-text">Enter your email or username to receive a password reset link.</p>
      
      <form [formGroup]="forgetPasswordForm" (ngSubmit)="onSubmit()">
        <mat-form-field appearance="outline">
          <mat-label>Email or Username</mat-label>
          <input matInput formControlName="emailOrUsername" required />
          <mat-error *ngIf="forgetPasswordForm.get('emailOrUsername')?.hasError('required')">
            Email or username is required
          </mat-error>
        </mat-form-field>
  
        <div class="button-group">
          <button 
            mat-raised-button 
            color="primary" 
            type="submit" 
            [disabled]="forgetPasswordForm.invalid || isLoading">
            <span *ngIf="!isLoading">Send Reset Link</span>
            <span *ngIf="isLoading">Sending...</span>
          </button>
          <button mat-raised-button color="warn" type="button" (click)="onCancel()" [disabled]="isLoading">
            Cancel
          </button>
        </div>
      </form>
    </div>

    <div *ngIf="emailSent" class="success-message">
      <mat-icon class="success-icon">check_circle</mat-icon>
      <p class="success-text">
        If an account exists with the provided email/username, a password reset link has been sent.
        Please check your email inbox.
      </p>
      <button mat-raised-button color="primary" (click)="onBackToLogin()">
        Back to Login
      </button>
    </div>
    </mat-card>
  </div>